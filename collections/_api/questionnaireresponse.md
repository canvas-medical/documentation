---
title: QuestionnaireResponse
sections:
  - type: section
    blocks:
      - type: apidoc
        name: QuestionnaireResponse
        article: "a"
        description: >-
          A structured set of questions and their answers. The questions are ordered and grouped into coherent subsets, corresponding to the structure of the grouping of the questionnaire being responded to.<br><br>
          [https://hl7.org/fhir/R4/questionnaireresponse.html](https://hl7.org/fhir/R4/questionnaireresponse.html)<br><br>
          See this [Zendesk article](https://canvas-medical.zendesk.com/hc/en-us/articles/4403561447827-Creating-a-New-Questionnaire) for information about how to build questionnaires in Canvas.<br><br>
          See this [Zendesk article](https://canvas-medical.zendesk.com/hc/en-us/articles/360057544593-Command-Questionnaire) for information about how to fill out a questionnaire for a patient via the `Questionnaire` command.
          QuestionnaireResponse resources contain answers to questions in a Questionnaire resource. Use the [Questionnaire search endpoint](/api/questionnaire/#search) to find Questionnaire resources.
        attributes:
          - name: id
            description: The identifier of the QuestionnaireResponse
            type: string
          - name: extension
            description: >-
              Additional content defined by implementations<br><br>
              The Questionnaire permalink is included in the `extension` attribute. See the read response example for more information. This value is autogenerated, so it is not processed during create interactions.
            type: array[json]
          - name: questionnaire
            description: >-
              Form being answered<br><br>
              The `questionnaire` field contains a value that is formatted like a Questionnaire reference, e.g. `Questionnaire/ac1da1a4-ccc4-492e-a9e0-7f70a58c2129`. Questionnaire IDs can be obtained using the [Questionnaire search endpoint](/api/questionnaire/#search).
            type: string
          - name: status
            description: >-
              The position of the questionnaire response within its overall lifecycle<br><br>
              Supported codes for create interactions are: **completed**
            type: string
          - name: subject
            description: The subject of the questions
            type: json
          - name: encounter
            description: >-
              Encounter created as part of<br><br>
              If `encounter` is provided, the QuestionnaireResponse will be added to the existing encounter (note). If it is not provided, a new data import note will be created. It will be inserted into the timeline using the timestamp passed in `authored`.
            type: json
          - name: authored
            description: >-
              Date the answers were gathered<br><br>
              If omitted, the current timestamp will be used.
            type: datetime
          - name: author
            description: >-
              Person who received and recorded the answers<br><br>
              If omitted, then the built-in automation user **Canvas Bot** will be set as the author.<br><br>
              Supported reference types for create operations are: **Patient**, **Practitioner**
            type: json
          - name: item
            description: >-
              Groups and questions<br><br>
              The `item` attribute contains the answers to the questions in the Questionnaire. The `item` attribute in QuestionnaireResponse corresponds to the `item` attribute in Questionnaire, and are related via the `linkId` attribute. If a question's answer is omitted, it will be left unanswered in Canvas. However, if it is a questionnaire tied to a scoring function, Canvas requires all questions to be answered in order to accurately score the Questionnaire.<br><br>
              Each `item` must contain a `linkId` and `answer` attributes. The `answer` attribute is a list of answers for the question referred to by the `linkId`.<br><br>
              Canvas supports the following question formats:<br><br>
              â€¢ Free text<br>
              â€¢ Single choice<br>
              â€¢ Multiple choice<br><br>
              Answers to free text questions are provided as a `valueString`. Answers to single and multiple choice questions are provided as a `valueCoding`. See the request and response examples for more information.<br><br>
              Canvas supports LOINC, SNOMED, and INTERNAL code systems for for answers provided as a `valueCoding`. The following mappings show how the FHIR system URI is mapped to the Canvas system (FHIR -> Canvas):<br><br>
              â€¢ http://loinc.org -> LOINC<br>
              â€¢ http://snomed.info/sct -> SNOMED<br>
              â€¢ http://schemas.{instance-name}.canvasmedical.com/fhir/systems/internal -> INTERNAL<br>
            type: array[json]
        search_parameters:
          - name: _id
            description: The identifier of the QuestionnaireResponse
            type: string
          - name: authored
            description: >-
              When the questionnaire response was last changed<br><br>
              The `authored` search parameter is a combination of an operand and a date/datetime in ISO8601 format. The currently-supported operands are:<br><br>
              â€¢ `eq`: search for QuestionnaireResponse resources authored on a specific date, or at a specific datetime<br>
              â€¢ `gt`: search for QuestionnaireResponse resources authored after a specific date or datetime<br>
              â€¢ `ge`: search for QuestionnaireResponse resources authored on or after a specific date, or at or after a specific datetime<br>
              â€¢ `lt`: search for QuestionnaireResponse resources authored before a specific date or datetime<br>
              â€¢ `le`: search for QuestionnaireResponse resources authored on or before a specific date, or at or before a specific datetime<br><br>
              The `authored` parameter can be in the query string multiple times, which allows for specifying a date range, e.g. `/QuestionnaireResponse?authored=ge2021-09-16&authored=le2021-10-01`. 
            type: datetime
          - name: patient
            description: The patient that is the subject of the questionnaire response
            type: string
          - name: questionnaire
            description: The questionnaire the answers are provided for
            type: string
        endpoints: [create, read, search]
        create:
          description: >-
            Create an QuestionnaireResponse resource.<br><br>
            If `encounter` is provided, the QuestionnaireResponse will be added to the existing encounter (note). If it is not provided, a new data import note will be created. It will be inserted into the timeline using the timestamp passed in `authored`.<br><br>
            **Validation**<br><br>
            ðŸš§ *Beware of ambiguous choices!*<br><br>
            If the questionnaire contains a question with identical codings for different choices, Canvas will not know which of the choices were selected. In this case, Canvas will reject the request. For the request to succeed, each question must have a uniquely coded set of choices. Choice codings can be reused across questions, but not within them.<br><br>
            If this scenario occurs, the following error message will be returned:<br><br>
            `Question received a response option code: {code} that belongs to more than one option response`<br><br>
            ðŸš§ *More Coding Validation*<br><br>
            The system is the `valueCoding` answer needs to match the system that the question specified in the Questionnaire Search Response. If it does not, the following error message will be returned:<br><br>
            `Question expects answer of code system {system} but {system} was given`<br><br>
            If a code is passed that does not exist for that question in Canvas, the following error message will be returned:<br><br>
            `Question received an invalid response option code: {code}`<br><br>
            ðŸš§ Answer Validation<br><br>
            For single or free text questions, if more than one answer is provided, the following error message will be returned:<br><br>
            `Question of type {type} is expecting at most one answer`<br><br>
            For free text questions, the answer object must include a `valueString` or the following error message will be returned:<br><br>
            `Question of type TXT expects a valueString answer`<br><br>
            For single or multiple choice questions, the answer objects must include a `valueCoding` or one of the following error messages will be returned:<br><br>
            `Question of type SING expects a valueCoding answer`<br>
            `Question of type MULT expects a valueCoding answer`
          responses: [201, 400, 401, 403, 405, 422]
          example_request: questionnaireresponse-create-request
          example_response: questionnaireresponse-create-response
        read:
          description: Read an QuestionnaireResponse resource.
          responses: [200, 401, 403, 404]
          example_request: questionnaireresponse-read-request
          example_response: questionnaireresponse-read-response
        search:
          description: Search for QuestionnaireResponse resources.
          responses: [200, 400, 401, 403]
          example_request: questionnaireresponse-search-request
          example_response: questionnaireresponse-search-response
---

<div id="questionnaireresponse-create-request">

  {% tabs questionnaireresponse-create-request %}

    {% tab questionnaireresponse-create-request curl %}
```shell
curl --request POST \
     --url https://fumage-example.canvasmedical.com/QuestionnaireResponse \
     --header 'Authorization: Bearer <token>' \
     --header 'accept: application/json' \
     --header 'content-type: application/json' \
     --data '
{
    "resourceType": "QuestionnaireResponse",
    "id": "e76e44b4-4e68-4f72-b1c3-1de528a3bb2a",
    "questionnaire": "Questionnaire/7eefd6fc-0000-44c2-8224-d95f0ceaa2fd",
    "status": "completed",
    "subject": {
        "reference": "Patient/b8dfa97bdcdf4754bcd8197ca78ef0f0",
        "type": "Patient"
    },
    "encounter": {
        "reference": "Encounter/ffa0bd44-997f-4ad4-8782-1a6c0ef01f1c",
        "type": "Encounter"
    },
    "authored": "2022-12-19T18:11:20.914260+00:00",
    "author": {
        "reference": "Practitioner/9cdb7a92d6614dcfa7948f2143a9f8e8",
        "type": "Practitioner"
    },
    "item": [
        {
            "linkId": "e2e5ddc3-a0ec-4a1b-9c53-bf2e2e990fe1",
            "text": "Tobacco status",
            "answer": [
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "8517006",
                        "display": "Former user"
                    }
                }
            ]
        },
        {
            "linkId": "d210dc3a-3427-4f58-8707-3f38393a8416",
            "text": "Tobacco type",
            "answer": [
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "722496004",
                        "display": "Cigarettes"
                    }
                },
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "722498003",
                        "display": "eCigarette"
                    }
                }
            ]
        },
        {
            "linkId": "a656c6c8-ecea-403f-a430-f80899f26914",
            "text": "Tobacco comment",
            "answer": [
                {
                    "valueString": "Yep"
                }
            ]
        }
    ]
}'
```
    {% endtab %}

    {% tab questionnaireresponse-create-request python %}
```python
import requests

url = "https://fumage-example.canvasmedical.com/QuestionnaireResponse"

headers = {
    "accept": "application/json",
    "Authorization": "Bearer <token>",
    "content-type": "application/json"
}

payload = {
    "resourceType": "QuestionnaireResponse",
    "id": "e76e44b4-4e68-4f72-b1c3-1de528a3bb2a",
    "questionnaire": "Questionnaire/7eefd6fc-0000-44c2-8224-d95f0ceaa2fd",
    "status": "completed",
    "subject": {
        "reference": "Patient/b8dfa97bdcdf4754bcd8197ca78ef0f0",
        "type": "Patient"
    },
    "encounter": {
        "reference": "Encounter/ffa0bd44-997f-4ad4-8782-1a6c0ef01f1c",
        "type": "Encounter"
    },
    "authored": "2022-12-19T18:11:20.914260+00:00",
    "author": {
        "reference": "Practitioner/9cdb7a92d6614dcfa7948f2143a9f8e8",
        "type": "Practitioner"
    },
    "item": [
        {
            "linkId": "e2e5ddc3-a0ec-4a1b-9c53-bf2e2e990fe1",
            "text": "Tobacco status",
            "answer": [
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "8517006",
                        "display": "Former user"
                    }
                }
            ]
        },
        {
            "linkId": "d210dc3a-3427-4f58-8707-3f38393a8416",
            "text": "Tobacco type",
            "answer": [
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "722496004",
                        "display": "Cigarettes"
                    }
                },
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "722498003",
                        "display": "eCigarette"
                    }
                }
            ]
        },
        {
            "linkId": "a656c6c8-ecea-403f-a430-f80899f26914",
            "text": "Tobacco comment",
            "answer": [
                {
                    "valueString": "Yep"
                }
            ]
        }
    ]
}
response = requests.post(url, json=payload, headers=headers)

print(response.text)
```
    {% endtab %}

  {% endtabs %}

</div>

<div id="questionnaireresponse-create-response">
{% include create-response.html %}
</div>

<div id="questionnaireresponse-read-request">
{%  include read-request.html resource_type="QuestionnaireResponse" %}
</div>

<div id="questionnaireresponse-read-response">

  {% tabs questionnaireresponse-read-response %}

    {% tab questionnaireresponse-read-response 200 %}
```json
{
    "resourceType": "QuestionnaireResponse",
    "id": "e76e44b4-4e68-4f72-b1c3-1de528a3bb2a",
    "extension": [
        {
            "url": "http://schemas.canvasmedical.com/fhir/extensions/questionnaire-permalink",
            "valueString": "https://example.canvasmedical.com/permalinks/v1/YWJjZGVmZ2hpamtsbW5vcHFycwo"
        }
    ],
    "questionnaire": "Questionnaire/7eefd6fc-0000-44c2-8224-d95f0ceaa2fd",
    "status": "completed",
    "subject": {
        "reference": "Patient/b8dfa97bdcdf4754bcd8197ca78ef0f0",
        "type": "Patient"
    },
    "encounter": {
        "reference": "Encounter/ffa0bd44-997f-4ad4-8782-1a6c0ef01f1c",
        "type": "Encounter"
    },
    "authored": "2022-12-19T18:11:20.914260+00:00",
    "author": {
        "reference": "Practitioner/9cdb7a92d6614dcfa7948f2143a9f8e8",
        "type": "Practitioner"
    },
    "item": [
        {
            "linkId": "e2e5ddc3-a0ec-4a1b-9c53-bf2e2e990fe1",
            "text": "Tobacco status",
            "answer": [
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "8517006",
                        "display": "Former user"
                    }
                }
            ]
        },
        {
            "linkId": "d210dc3a-3427-4f58-8707-3f38393a8416",
            "text": "Tobacco type",
            "answer": [
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "722496004",
                        "display": "Cigarettes"
                    }
                },
                {
                    "valueCoding": {
                        "system": "http://snomed.info/sct",
                        "code": "722498003",
                        "display": "eCigarette"
                    }
                }
            ]
        },
        {
            "linkId": "a656c6c8-ecea-403f-a430-f80899f26914",
            "text": "Tobacco comment",
            "answer": [
                {
                    "valueString": "Yep"
                }
            ]
        }
    ]
}
```
    {% endtab %}

    {% tab questionnaireresponse-read-response 401 %}
```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "unknown",
      "details": {
        "text": "Authentication failed"
      }
    }
  ]
}
```
    {% endtab %}

    {% tab questionnaireresponse-read-response 403 %}
```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "forbidden",
      "details": {
        "text": "Authorization failed"
      }
    }
  ]
}
```
    {% endtab %}

    {% tab questionnaireresponse-read-response 404 %}
```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "not-found",
      "details": {
        "text": "Unknown QuestionnaireResponse resource 'a47c7b0e-bbb4-42cd-bc4a-df259d148ea1'"
      }
    }
  ]
}
```
    {% endtab %}

  {% endtabs %}

</div>

<div id="questionnaireresponse-search-request">
{% include search-request.html resource_type="QuestionnaireResponse" search_string="patient=Patient%2Fb8dfa97bdcdf4754bcd8197ca78ef0f0" %}
</div>

<div id="questionnaireresponse-search-response">

  {% tabs questionnaireresponse-search-response %}

    {% tab questionnaireresponse-search-response 200 %}
```json
{
    "resourceType": "Bundle",
    "type": "searchset",
    "total": 1,
    "link": [
        {
            "relation": "self",
            "url": "/QuestionnaireResponse?patient=Patient%2Fb8dfa97bdcdf4754bcd8197ca78ef0f0&_count=10&_offset=0"
        },
        {
            "relation": "first",
            "url": "/QuestionnaireResponse?patient=Patient%2Fb8dfa97bdcdf4754bcd8197ca78ef0f0&_count=10&_offset=0"
        },
        {
            "relation": "last",
            "url": "/QuestionnaireResponse?patient=Patient%2Fb8dfa97bdcdf4754bcd8197ca78ef0f0&_count=10&_offset=0"
        }
    ],
    "entry": [
        {
            "resource": {
                "resourceType": "QuestionnaireResponse",
                "id": "e76e44b4-4e68-4f72-b1c3-1de528a3bb2a",
                "extension": [
                    {
                        "url": "http://schemas.canvasmedical.com/fhir/extensions/questionnaire-permalink",
                        "valueString": "https://example.canvasmedical.com/permalinks/v1/YWJjZGVmZ2hpamtsbW5vcHFycwo"
                    }
                ],
                "questionnaire": "Questionnaire/7eefd6fc-0000-44c2-8224-d95f0ceaa2fd",
                "status": "completed",
                "subject": {
                    "reference": "Patient/b8dfa97bdcdf4754bcd8197ca78ef0f0",
                    "type": "Patient"
                },
                "encounter": {
                    "reference": "Encounter/ffa0bd44-997f-4ad4-8782-1a6c0ef01f1c",
                    "type": "Encounter"
                },
                "authored": "2022-12-19T18:11:20.914260+00:00",
                "author": {
                    "reference": "Practitioner/9cdb7a92d6614dcfa7948f2143a9f8e8",
                    "type": "Practitioner"
                },
                "item": [
                    {
                        "linkId": "e2e5ddc3-a0ec-4a1b-9c53-bf2e2e990fe1",
                        "text": "Tobacco status",
                        "answer": [
                            {
                                "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "8517006",
                                    "display": "Former user"
                                }
                            }
                        ]
                    },
                    {
                        "linkId": "d210dc3a-3427-4f58-8707-3f38393a8416",
                        "text": "Tobacco type",
                        "answer": [
                            {
                                "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "722496004",
                                    "display": "Cigarettes"
                                }
                            },
                            {
                                "valueCoding": {
                                    "system": "http://snomed.info/sct",
                                    "code": "722498003",
                                    "display": "eCigarette"
                                }
                            }
                        ]
                    },
                    {
                        "linkId": "a656c6c8-ecea-403f-a430-f80899f26914",
                        "text": "Tobacco comment",
                        "answer": [
                            {
                                "valueString": "Yep"
                            }
                        ]
                    }
                ]
            }
        }
    ]
}
```
    {% endtab %}

    {% tab questionnaireresponse-search-response 400 %}
```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "invalid",
      "details": {
        "text": "Bad request"
      }
    }
  ]
}
```
    {% endtab %}

    {% tab questionnaireresponse-search-response 401 %}
```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "unknown",
      "details": {
        "text": "Authentication failed"
      }
    }
  ]
}
```
    {% endtab %}

    {% tab questionnaireresponse-search-response 403 %}
```json
{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "error",
      "code": "forbidden",
      "details": {
        "text": "Authorization failed"
      }
    }
  ]
}
```
    {% endtab %}

  {% endtabs %}

</div>
